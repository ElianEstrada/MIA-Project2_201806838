<app-navbar [admin]="true"></app-navbar>
<div class="container content">
  <div>
    <!-- Modal Structure -->
    <div id="modal1" class="modal indigo darken-4 modal__content">
      <div class="modal-content">
        <div>
            <div class="row form__content">
              <form class="col s12">
                <div class="row form__content__input">
                    <h1><b> {{type}} </b></h1>
                  <div class="row">
                    <div [hidden]="true" class="input-field col s6">
                        <i class="material-icons prefix white-text">account_circle</i>
                        <input
                          placeholder="codd"
                          name="codeProduct"
                          [(ngModel)] = "codeProduct"
                          type="text"
                          class="validate"
                        />
                      </div>  
                    <div class="input-field col s6">
                      <i class="material-icons prefix white-text">account_circle</i>
                      <input
                        placeholder="Name"
                        name="name"
                        [(ngModel)] = "name"
                        type="text"
                        class="validate"
                      />
                    </div>
                    <div class="input-field col s6">
                      <i class="material-icons prefix white-text">monetization_on</i>
                      <input
                        placeholder="Price"
                        name="price"
                        [(ngModel)]="price"
                        type="number"
                        step="0.01"
                        class="validate"
                      />
                    </div>
                  </div>
                  <div class="row">
                    <div class="input-field col l6 s12">
                      <i class="material-icons prefix white-text">mood</i>
                      <input
                        placeholder="Recommended Age"
                        name="age"
                        [(ngModel)] = "age"
                        type="number"
                        class="validate"
                      />
                    </div>
                    <div class="input-field col l6 s12">
                        <select [(ngModel)]="category"
                        name="category"
                        class="browser-default">
                        <option value="0" disabled selected>Choose Category</option>
                        <option [value]="item.code" *ngFor="let item of categorys">
                            {{item.name}}
                        </option>
                        </select>
                    </div>
                  </div>
                  <div class="row">
                    <div class="row">
                      <div>
                        <button
                          class="btn-large waves-effect waves-light green modal-close"
                          (click)="execute()"
                          [disabled] = "name === '' || price === null
                          || age === null || category === 0"
                        >
                          {{type}}
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </form>
              <div [hidden] ="true">
                  <div class="red">
                    <h4>
                      Error in to Registry
                    </h4>
                  </div>
                </div>
            </div>
          </div>
      </div>
    </div>
  </div>
  <div class="row">
    <h1>Products</h1>
  </div>
  <div class="card z-depth-3 grey darken-4">
    <table class="striped responsive-table centered">
      <thead>
        <tr>
          <th>No.</th>
          <th>Code</th>
          <th>Name</th>
          <th>Price</th>
          <th>Recommended Age</th>
          <th>Category</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of products; index as i">
          <td>{{ i + 1 }}</td>
          <td>{{ item.code }}</td>
          <td>{{ item.name }}</td>
          <td>{{ item.price }}</td>
          <td>{{ item.age }}</td>
          <td>{{ item.nameCategory }}</td>
          <td>
            <a href="#modal1" (click) = "modify(item)" class="modal-trigger" title="modify"
              ><i class="material-icons blue-text text-darken-4"> edit </i></a
            >
            <a title="delete" (click)="delete(item.code)"
              ><i class="material-icons red-text"> delete </i></a
            >
          </td>
        </tr>
      </tbody>
    </table>
    <div class="fixed-action-btn">
        <a href="#modal1" class="btn-floating btn-large blue darken-4 modal-trigger" (click)="registry()" title="Add">
          <i class="large material-icons">add</i>
        </a>
      </div>
  </div>
</div>
